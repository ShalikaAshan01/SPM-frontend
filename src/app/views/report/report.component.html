<div style="margin: 20px">
    <h1>Your file Complexity</h1>
</div>
<hr />
<div class="main" id="chart">
    <div class="ui-g">
        <div class="ui-g-4">
            <div>
                <div class="secondary">
                    <h2>your code complexity distribution</h2>
                </div>
                <div style="padding-top: 50px ">
                    <p-chart type="doughnut" [data]="data"></p-chart>
                </div>
            </div>
        </div>
        <div class="ui-g-4" style="background-color: rgba(210, 212, 207, 0.815); border-radius: 20px">
            <div class="totalView">
                <div class="secondary">
                    <h2>Total Comlpexity of your code is</h2>
                </div>
                <div class="total">{{totalCp}}</div>
            </div>
        </div>
        <div class="ui-g-4" data-html2canvas-ignore>
            <div class="secondary">
                <div>
                    <h2>Download Complexity Report</h2>
                </div>
                <div style="padding: 50px">
                    <img src="../../../assets/Download-Computer-512.png" height="50%" width="50%">
                </div>
                <div *ngIf="this.tableArray.length !== undefined">
                    <!-- <button class="btn btn-success" id="button1" (click) = 'table.exportCSV()'>Download Report</button>     -->
                    <button class="btn btn-success" id="button1" (click)='showDialog()'>Download Report</button>
                </div>
            </div>
        </div>

    </div>
    <div style="padding: 20px;margin-bottom: 10px" id='exportThis'>
        <div style="padding: 20px">
            <h1>Complexity Report</h1>
        </div>
        <p-table id="table" #table [value]="this.tableArray" exportFilename="complexity" tableStyleClass="break-column"
            selectionMode="multiple" [resizableColumns]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th *ngFor="let col of cols">
                        {{col.header}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-car>
                <tr>
                    <td *ngFor="let col of cols">
                        {{car[col.field]}}
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td class="text-center" [attr.colspan]="columns.length">
                        No Memberships found
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>

    <p-dialog header="Download type" [(visible)]="display" data-html2canvas-ignore>
        <div style="padding: 5px">
            <button class="btn btn-success" id="button1" (click)='this.downloadCSV()'>Download CSV</button>
        </div>
        <div style="padding: 5px">
            <button class="btn btn-success" id="button1" (click)='this.downloadpdf()'>Download PDF</button>
        </div>
    </p-dialog>